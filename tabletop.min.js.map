{"version":3,"sources":["tabletop.js"],"names":["inNodeJS","process","browser","request","require","trim","supportsCORS","inLegacyIE","testXHR","XMLHttpRequest","withCredentials","window","e","indexOfProto","Array","prototype","indexOf","ttIndexOf","array","item","i","l","length","Tabletop","options","this","key","callback","wanted","simpleSheet","parseNumbers","wait","reverse","postProcess","debug","query","orderby","endpoint","singleton","simple_url","callbackContext","prettyColumnNames","proxy","replace","parameterize","log","test","match","models","model_names","base_json_path","fetch","callbacks","init","sheets","requestData","loadSheets","path","serverSideFetch","protocol","split","shift","location","injectScript","xhrFetch","xhr","XDomainRequest","open","self","onload","json","JSON","parse","responseText","console","error","call","send","callbackName","script","document","createElement","loadSheet","Date","Math","floor","random","args","slice","arguments","apply","parentNode","removeChild","url","src","encodeURIComponent","getElementsByTagName","appendChild","err","resp","body","isWanted","sheetName","data","undefined","all","addWanted","sheet","push","ilen","toLoad","googleSheetName","feed","title","$t","foundSheetNames","entry","content","linkIdx","link","sheet_id","href","pop","json_path","toLowerCase","sheetsToLoad","sheetReady","model","name","doCallback","that","Model","tabletop","onReady","Function","j","jlen","column_names","elements","raw","original_columns","source","element","cell","isNaN","rowNumber","fetchPrettyColumns","ready","cellurl","loadPrettyColumns","pretty_columns","prettifyElements","ordered_pretty_names","pretty_elements","new_element","new_column_name","toArray","row","module","exports","define","amd"],"mappings":"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"}